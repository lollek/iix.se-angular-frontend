<h2 id="description">Description:</h2>
<p>Install quagga on gw and configure it so traffic can be forwarded between internet and the virtual LAN</p>
<h2 id="implementation">Implementation:</h2>
<h3 id="enable-ip-forwarding">Enable ip-forwarding:</h3>
<ul>
<li>In /etc/sysctl.conf: Uncomment net.ipv4.ip_forward=1</li>
<li>Restart gw</li>
</ul>
<h3 id="installation">Installation:</h3>
<ul>
<li>Run aptitude</li>
<li>Locate and install metapackage quagga</li>
</ul>
<h3 id="configuration">Configuration:</h3>
<ul>
<li>In /etc/quagga/daemons, set the following:</li>
</ul>
<pre><code>zebra=yes
ripd=yes</code></pre>
<ul>
<li>Create /etc/quagga/zebra.conf (owned by quagga:quagga, mode 640):</li>
</ul>
<pre><code>hostname gw.d4.sysinst.ida.liu.se
password read_password
enable password write_password
log file /var/log/quagga/zebra.log
ip forwarding
ipv6 forwarding</code></pre>
<ul>
<li>Create /etc/quagga/ripd.conf (owned by quagga:quagga, mode 640):</li>
</ul>
<pre><code>hostname gw.d4.sysinst.ida.liu.se
password read_password
enable password write_password
log file /var/log/quagga/ripd.conf
router rip
  version 2
  network eth1
  route 130.236.179.88/29
!</code></pre>
<h3 id="start">Start:</h3>
<p><code>service quagga start</code></p>
<h2 id="verification">Verification:</h2>
<p>Should be possible to ping google.com from gw, server, client-1 and client-2</p>
<h2 id="backout">Backout:</h2>
<p>Remove quagga through aptitude</p>
